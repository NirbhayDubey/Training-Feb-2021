<div class="container my-5 py-5">
    <div class="card bg-info text-light" data-aos="fade-up">
        <div class="card-header text-center"><h3>Employee Details</h3></div>
        <div class="card-body">
            <div id="error-div" class="m-3">

            </div>
            <form action="" method="">
                <div class="form-group"> 
                    <label for="employee_id">Employee ID:</label> 
                    <input type="text" class="form-control form-field" id="employee_id" name="employee_id" placeholder="e.g. 1234567"  onkeyup="checkEmployeeId()">
                </div>
                <div class="form-group"> 
                    <label for="employee_name">Employee Name:</label> 
                    <input type="text" class="form-control form-field" id="employee_name" name="employee_name" placeholder="Enter Name">
                </div>
                <div class="form-group"> 
                    <label for="employee_email">Employee Email:</label> 
                    <input type="email" class="form-control form-field" id="employee_email" name="employee_email" placeholder="Enter Email" onchange="checkEmail()">
                </div>
                <div class="form-group"> 
                    <label for="employee_contact">Contact number</label> 
                    <input type="text" class="form-control form-field" id="employee_contact" name="employee_contact" pattern="[1-9]{1}[0-9]{9}" placeholder="Enter mobile number">
                </div>
                <div class="row">
                    <div class="col-6">
                        <div class="form-group"> 
                            <label for="birthdate">Date of Joining</label> 
                            <input type="date" class="form-control form-field" id="joining-date" name="joining-date">
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="form-group"> 
                            <label for="age">Age</label> 
                            <input type="text" class="form-control form-field" id="age" name="age" placeholder="e.g. 22" onkeyup="return checkAge()">
                        </div>
                    </div>
                </div>
                <fieldset class="form-group pb-2">
                
                    <legend class="col-form-label">Gender:</legend>
                        
                    <div class="form-check pb-2">
                        <input type="radio" id="male"class="form-check-input" name="gridRadios"value="option1">
                        <label class="form-check-label"for="male">Male</label>
                    </div>
                    <div class="form-check pb-2">
                        <input type="radio" id="female" class="form-check-input" name="gridRadios" value="option2">
                        <label class="form-check-label"for="female">Female</label>
                    </div>
                    <div class="form-check pb-2">
                        <input type="radio" id="other" class="form-check-input" name="gridRadios" value="option2">
                        <label class="form-check-label"for="other">Other</label>
                    </div>

                   </fieldset>
                <div class="row">
                    <div class="col-6">
                        <div class="form-group"> 
                            <label for="designation">Designation</label><br>
                            <select class="form-control form-field " id="designation" name="designation">
                                <option value="">Select Designation</option>
                                <option value="developer">Developer</option>
                                <option value="designer">Designer</option>
                                <option value="hr_manager">HR Manager</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="form-group"> 
                            <label for="salary">Salary (CTC in LPA):</label> 
                            <input type="number" class="form-control form-field" id="salary" name="salary" min="0" placeholder="Enter Salary">
                        </div>
                    </div>
                </div>
                
                <div class="form-group"> 
                    <label for="location">Location:</label><br>
                    <select class="form-control form-field" id="location" name="location">
                        <option value="">Select City</option>
                        <option value="rajkot">Rajkot</option>
                        <option value="ahmedabad">Ahmedabad</option>
                        <option value="baroda">Baroda</option>
                    </select>
                </div>
                <button type="submit" class="btn btn-secondary btn-block" onclick="return validateForm()">Submit</button>
                <br>
            </form>
        </div>
    </div>
</div>

<script>
    function checkEmployeeId(){
    var id = document.getElementById("employee_id").value;
    if(!id.match(/[0-9]{5}/g)) {
        document.getElementById("employee_id").style.color = 'red';
        return false;
    }
    else {
        document.getElementById("employee_id").style.color = 'green';
        return true;
    }
}

function checkAge() {
    var age = document.getElementById("age").value;
    age = parseInt(age);

    if(isNaN(age) || age < 18 ||  age > 80)
    {
        document.getElementById("age").style.color = 'red';
        return false;
    }
    else {
        document.getElementById("age").style.color = 'green';
        return true;
    }
}

function checkEmail() {
    var email = document.getElementById("employee_email").value;
    // console.log(email.match());
    if(!email.match(/^[a-zA-Z0-9+_.-]+@[a-zA-Z0-9-]+[.][a-zA-Z0-9-]+$/g) || email.match(/^[a-zA-Z0-9+_.-]+@[a-zA-Z0-9-]+[.][a-zA-Z0-9-]+$/g) != email) {
        document.getElementById("employee_email").style.color = 'red';
        return false;
    }
    else {
        document.getElementById("employee_email").style.color = 'green';
        return true;
    }
}

function validateForm() {
    var isValid = true;
    document.getElementById("error-div").innerHTML = "";
    if(document.getElementById("employee_id").value == "") {
        document.getElementById("error-div").innerHTML += '<div class="alert alert-danger" id="error-div">Employee ID is required.</div>';
        isValid = false;
    }

    if(document.getElementById("employee_name").value == "") {
        document.getElementById("error-div").innerHTML += '<div class="alert alert-danger" id="error-div">Employee Name is required.</div>';
        isValid = false;
    }

    if(document.getElementById("employee_email").value == "") {
        document.getElementById("error-div").innerHTML += '<div class="alert alert-danger" id="error-div">Employee email is required.</div>';
        isValid = false;
    }
    else{
        if(!checkEmail()){
            document.getElementById("error-div").innerHTML += '<div class="alert alert-danger" id="error-div">Employee email is in invalid format.</div>';
            isValid = false;
        }
    }

    if(document.getElementById("employee_contact").value == "") {
        document.getElementById("error-div").innerHTML += '<div class="alert alert-danger" id="error-div">Emplpoyee Contact is required.</div>';
        isValid = false;
    }

    if(document.getElementById("joining-date").value == "") {
        document.getElementById("error-div").innerHTML += '<div class="alert alert-danger" id="error-div">Joining Date is required.</div>';
        isValid = false;
    }

    if(document.getElementById("age").value == "") {
        document.getElementById("error-div").innerHTML += '<div class="alert alert-danger" id="error-div">Age is required.</div>';
        isValid = false;
    }
    else{
        if(!checkAge()){
            document.getElementById("error-div").innerHTML += '<div class="alert alert-danger" id="error-div">Inserted age is not valid (should be between 18 to 80).</div>';
            isValid = false;
        }
    }

    if(document.getElementById("designation").value == "") {
        document.getElementById("error-div").innerHTML += '<div class="alert alert-danger" id="error-div">Designation is required.</div>';
        isValid = false;
    }

    if(document.getElementsByName("gender").value == "") {
        document.getElementById("error-div").innerHTML += '<div class="alert alert-danger" id="error-div">Gender is required.</div>';
        isValid = false;
    }

    if(document.getElementById("salary").value == "") {
        document.getElementById("error-div").innerHTML += '<div class="alert alert-danger" id="error-div">Salary is required.</div>';
        isValid = false;
    }

    if(document.getElementById("location").value == "") {
        document.getElementById("error-div").innerHTML += '<div class="alert alert-danger" id="error-div">Location is required.</div>';
        isValid = false;
    }
    window.scrollTo(0,0);
    return isValid;
}
</script>