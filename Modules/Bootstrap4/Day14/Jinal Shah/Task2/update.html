<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

</head>
<body>
    <h2><a href="home.html"> Home Page</a></h2>

    <div class="container mt-5 col-md-6">
        
        <h1 class="h3">Enter Employee Details</h1>
        <div class="border p-3" style="background-color: lightgray;">
            
            <form >

                <div class="form-group">
                    <label for="ename">Employee Name</label>
                    <input type="text" id="ename" class="form-control" placeholder="abc">    
                </div>

                <div class="form-group">
                    <label for="contact">Contact Number</label>
                    <input type="number" id="contact" class="form-control" placeholder="0123456789">
                </div>

              <!--   <div class="form-group">
                    <label for="location">Location</label>
                    <select id="location" class="custom-select">
                        <option value="">Select Country</option>
                        <option value="ahmedabad">India</option>
                        <option value="gandhinagar">USA</option>
                        <option value="vadodara">Canada</option>
                        <option value="rajkot">Australia</option>
                    </select>   
                </div> -->

                <div class="form-group">
                    <label for="location">Country</label>
                    <select class="form-control"  id='firstList' name='firstList' onClick="getFoodItem()">
                    </select>
                </div>

                <div class="form-group">
                    <label for="location">State</label>
                    <select class="form-control"  id='secondList' name='secondList' >
                    </select>    
                </div> 

                <input type="submit" value="Submit" class="btn btn-primary" onclick="return validateForm()">

            </form><br>
            <div id="errid"></div>

        </div>

    </div>

    <script>

            function store(){
                let data = {
                    NAME : document.getElementById("ename").value,
                    NUMBER : document.getElementById("contact").value,
                    COUNTRY : document.getElementById("firstList").value,
                    STATE : document.getElementById("secondList").value
                }
                console.log(data);
                localStorage.setItem('data',JSON.stringify(data));
                console.log(localStorage.getItem('data'));
               
            }

        function validateForm() {
            var name = document.getElementById("ename").value;
            var contact = document.getElementById("contact").value;
           /*  var location = document.getElementById("location").value; */
            var err = new Array(2);
            var i=0;

            var n = /^[A-Za-z]+$/;
            if(name == "") {
                err[0] = "Employee Name is required.";  
            }
            else if(name.match(n))
            {
                err[0] = "";
            }
            else{
                err[0] = "invalid format";
            }


            var pno =/^\d{10}$/;
            if(contact == "") {
                err[1] = "Employee Contact is required.";
            }
            else if(contact.match(pno))
            {
                err[1] = "";
            }
            else{
                err[1] = "invalid format";
            }

            if(location == "") {
                err[2] = "Employee Location is required.";
            }
            else{
                err[2] ="";
            } 
                    
        
            for(i; i<err.length; i++) {
                if(err[i] == "") {
                   continue;
                }
                else{
                    document.getElementById("errid").innerHTML += '<div class="alert alert-danger">' + err[i] + '</div>';
                }
            }    
            return store();
            
        }




       /* ------------ */

         $(document).ready(function () {
		
        var list1 = document.getElementById('firstList');
    
        list1.options[0] = new Option('--Select--', '');
        list1.options[1] = new Option('India', 'India');
        list1.options[2] = new Option('United States of America', 'United States of America');
        list1.options[3] = new Option('Canada', 'Canada');
    });

    function getFoodItem(){
        var list1 = document.getElementById('firstList');
        var list2 = document.getElementById("secondList");
        var list1SelectedValue = list1.options[list1.selectedIndex].value;
        
        if (list1SelectedValue=='India')
        {
            
            list2.options.length=0;
            list2.options[0] = new Option('--Select--', '');
            list2.options[1] = new Option('Assam', 'Assam');
            list2.options[2] = new Option('Gujarat', 'Gujarat');
            list2.options[3] = new Option('Jharkhand', 'Jharkhand');
            list2.options[4] = new Option('Maharashtra', 'Maharashtra');
            list2.options[5] = new Option('Punjab', 'Punjab');
            list2.options[6] = new Option('Rajasthan', 'Rajasthan');
            
        }
        else if (list1SelectedValue=='United States of America')
        {
            
            list2.options.length=0;
            list2.options[0] = new Option('--Select--', '');
            list2.options[1] = new Option('California', 'California');
            list2.options[2] = new Option('Indiana', 'Indiana');
            list2.options[3] = new Option('Montana', 'Montana');
            list2.options[4] = new Option('Texas', 'Texas');
            list2.options[5] = new Option('Hawaii', 'Hawaii');
            
        }
        else if (list1SelectedValue=='Canada')
        {
            
            list2.options.length=0;
            list2.options[0] = new Option('--Select--', '');
            list2.options[1] = new Option('Alberta', 'Alberta');
            list2.options[2] = new Option('Manitoba', 'Manitoba');
            list2.options[3] = new Option('British Columbia', 'British Columbia');
            list2.options[4] = new Option('Newfoundland', 'Newfoundland');
            list2.options[5] = new Option('ontario', 'ontario');
            
        }
    }

    </script>

</body>
</html>